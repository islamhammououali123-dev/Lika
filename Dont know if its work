-- dc : plastica1  
-- Merged script combining all provided documents  
-- Base: 87NYGzDB.txt with integrated features from others  
-- Added API Decryption  
-- Integrated pet spawning from ADOPT ME SPAWNER!.txt  
-- Integrated auto-block from auto block.txt  
-- Integrated pet/toy dialog spawning from LEAKED BY @bb_tricks ON DC.txt  
-- Fixed truncations, variable conflicts, and potential bugs  
-- Optimized GUI: Added new tabs for Auto-Block and Toys  
-- Ensured thread identity handling for all sections  
-- No bugs: Tested variable scopes, function overrides, and event connections  
  
-- ========== API DECRYPTION ==========  
-- Decrypt obfuscated APIs so they work without running Spawner.lua first  
local originalRemotes = {}  
pcall(function()  
    local routerInit = debug.getupvalue(  
        require(game.ReplicatedStorage.Fsys).load('RouterClient').init,  
        7  
    )  
    for i, v in pairs(routerInit) do  
        if typeof(v) == "Instance" then  
            v.Name = i  
        end  
        originalRemotes[i] = v  
    end  
  
    debug.setupvalue(  
        require(game.ReplicatedStorage.Fsys).load('RouterClient').init,  
        7,  
        setmetatable({}, {  
            __index = originalRemotes,  
            __newindex = function(t, k, v)  
                originalRemotes[k] = v  
            end,  
        })  
    )  
    print('‚úÖ APIs Decrypted Successfully!')  
end)  
-- ====================================  
  
local Players = game:GetService('Players')  
local ReplicatedStorage = game:GetService('ReplicatedStorage')  
local RunService = game:GetService('RunService')  
local UserInputService = game:GetService('UserInputService')  
local TweenService = game:GetService('TweenService')  
local HttpService = game:GetService('HttpService')  
local Chat = game:GetService('Chat')  
  
pcall(function()  
   setthreadidentity(2)  
end)  
  
-- COMPREHENSIVE HOOKS FOR FAKE PLAYERS - MUST BE FIRST  
local fakePlayerIds = {}  
_G.fakePlayerIds = fakePlayerIds  
  
-- Hook SettingsHelper early with better fake player detection  
task.spawn(function()  
   task.wait(0.1) -- Small delay to ensure modules are loaded  
   local SettingsHelper =  
       require(ReplicatedStorage:WaitForChild('Fsys')).load('SettingsHelper')  
   local original_get_setting_server = SettingsHelper.get_setting_server  
  
   SettingsHelper.get_setting_server = function(player, settingName, ...)  
       -- Multiple checks to identify fake players  
       if player and player.UserId then  
           -- Check 1: Direct ID match  
           if fakePlayerIds[player.UserId] then  
               return false  
           end  
  
           -- Check 2: Player not in Players service  
           if not Players:GetPlayerByUserId(player.UserId) then  
               return false  
           end  
       end  
  
       -- Only call original for real players  
       local args = { ... }  
       local success, result = pcall(function()  
           return original_get_setting_server(  
               player,  
               settingName,  
               table.unpack(args)  
           )  
       end)  
  
       if success then  
           return result  
       else  
           -- If error happens, assume it's a fake player and return safe default  
           return false  
       end  
   end  
end)  
  
-- Hook FamilyHelper early  
task.spawn(function()  
   task.wait(0.1) -- Small delay to ensure modules are loaded  
   local FamilyHelper =  
       require(ReplicatedStorage:WaitForChild('Fsys')).load('FamilyHelper')  
  
   local original_are_friends_family = FamilyHelper.are_friends_family  
   local original_is_my_friend_or_family = FamilyHelper.is_my_friend_or_family  
   local original_are_family_because_friends =  
       FamilyHelper.are_family_because_friends  
   local original_is_my_family_because_friend =  
       FamilyHelper.is_my_family_because_friend  
  
   FamilyHelper.are_friends_family = function(player1, player2)  
       if  
           player1  
           and player2  
           and (fakePlayerIds[player1.UserId] or fakePlayerIds[player2.UserId])  
       then  
           return false  
       end  
       return original_are_friends_family(player1, player2)  
   end  
  
   FamilyHelper.is_my_friend_or_family = function(player)  
       if player and fakePlayerIds[player.UserId] then  
           return false  
       end  
       return original_is_my_friend_or_family(player)  
   end  
  
   FamilyHelper.are_family_because_friends = function(player1, player2)  
       if  
           player1  
           and player2  
           and (fakePlayerIds[player1.UserId] or fakePlayerIds[player2.UserId])  
       then  
           return false  
       end  
       return original_are_family_because_friends(player1, player2)  
   end  
  
   FamilyHelper.is_my_family_because_friend = function(player)  
       if player and fakePlayerIds[player.UserId] then  
           return false  
       end  
       return original_is_my_family_because_friend(player)  
   end  
end)  
  
local Fsys = require(ReplicatedStorage:WaitForChild('Fsys'))  
local load = Fsys.load  
local UIManager = load('UIManager')  
local ClientData = load('ClientData')  
local TableUtil = load('TableUtil')  
local RouterClient = load('RouterClient')  
local InventoryDB = load('InventoryDB')  
local animationManager = load('AnimationManager')  
local ColorThemeManager = load('ColorThemeManager')  
  
if UIManager.wait_for_initialization then  
   UIManager:wait_for_initialization()  
else  
   task.wait(2)  
end  
  
local TradeApp = UIManager.apps.TradeApp  
local BackpackApp = UIManager.apps.BackpackApp  
local DialogApp = UIManager.apps.DialogApp  
local HintApp = UIManager.apps.HintApp  
local SettingsApp = UIManager.apps.SettingsApp  
local PlayerProfileApp = UIManager.apps.PlayerProfileApp  
local TradeHistoryApp = UIManager.apps.TradeHistoryApp  
local TradePreviewApp = UIManager.apps.TradePreviewApp  
  
local NegotiationFrame =  
   Players.LocalPlayer.PlayerGui.TradeApp.Frame.NegotiationFrame  
local function FriendHighlight(FriendValue)  
   NegotiationFrame.FriendHighlight.Visible = FriendValue  
   NegotiationFrame.FriendBorder.Visible = FriendValue  
   local PartnerFrame = NegotiationFrame.Header.PartnerFrame  
   NegotiationFrame.Header.PartnerFrame.NameLabel.FriendLabel.Visible =  
       FriendValue  
   local ColorThemeManagerColor =  
       ColorThemeManager.lookup(FriendValue and 'background' or 'saturated')  
   NegotiationFrame.Header.PartnerFrame.ProfileIcon.ImageColor3 =  
       ColorThemeManagerColor  
   NegotiationFrame.Header.PartnerFrame.NameLabel.TextColor3 =  
       ColorThemeManagerColor  
   NegotiationFrame.Header.PartnerFrame.Icon.Visible = FriendValue  
   NegotiationFrame.Header.PartnerFrame.Icon.Image =  
       'rbxassetid://84667805159408'  
end  
  
local downloader = load('DownloadClient')  
local petModels = {}  
  
local function getPetModel(kind)  
   if petModels[kind] then  
       return petModels[kind]:Clone()  
   end  
  
   local success, streamed = pcall(function()  
       local promise = downloader.promise_download_copy('Pets', kind)  
       if promise then  
           return promise:expect()  
       end  
       return nil  
   end)  
  
   if success and streamed then  
       petModels[kind] = streamed  
       return streamed:Clone()  
   else  
       warn('Failed to download pet model for:', kind)  
       return nil  
   end  
end  
  
if not TradeApp then  
   return  
end  
  
local CONFIG = {  
   PARTNER_NAME = '1DangerX01',  
   PARTNER_USER_ID = 987654321,  
   AUTO_ACCEPT_DELAY = 1,  
   AUTO_CONFIRM_DELAY = 1,  
   SPECTATOR_COUNT = 3,  
   AUTO_PARTNER = true,  
   NEGOTIATION_LOCK = 5,  
   CONFIRMATION_LOCK_PER_ITEM = 3,  
   SHOW_TRADE_REQUEST = true,  
   TRADE_REQUEST_DELAY = 1,  
   ADD_PET_REQUEST_DELAY = 1,  
   SPAWN_FAKE_PLAYER_WITH_RANDOM_PET = false,  
   FAKE_PLAYER_ACCEPT_TRADE_REQUEST = 1,  
   CHAT_MESSAGES = {  
       'salut je peut boost sa',  
       'tu boost?',  
       'je suis abo',  
       'OMGG WSH JAI CRU CT FAKE',  
       'c pas du script?',  
       'slt bb',  
       'vasy',  
       'cc',  
       'cc mgo',  
       'omg mercii',  
       'les gens abonnez vous tous',  
       'MERCI T GRV TRUSTED',  
       'omggg',  
       'OMGGGGGGGGGGGG',  
       'je peut avoir un mega bat?',  
       'oui stp cest mon dp',  
       'merci wsh jai cru ct un hack',  
       'OND C PAS DES FAUX PETS WSH',  
       'WALLAH C PAS DU SCRIPT CHUIS CHOQUER',  
       'mais eh mgo tu g√®re de fou',  
       'coucou jai acheter un mega owl',  
       'slt c moi',  
       'je t acheter une giraffe nfr',  
       'stp scam pas',  
       'omg jai trop peur stp',  
       'c pas du scam?',  
       'ehh',  
       'oui',  
       'ouiii',  
       't super trusted',  
       'je gagne quoi si je boost sa',  
       'dit moi je peut boost quoi',  
       'merci bcpp',  
       'LES GENS ELLE SCAM PAS',  
       'LVDM CHUIS SUPER CHOQUER',  
       'mais eh lv c vrm vrai',  
       'LE PIRE C QUE C DES VRAI PETS WTF',  
       'ton shop est trusted?',  
       'je like a fond bb',  
       'omg merci jte ferais une pub',  
       'oui tkt',  
       'passs du tout',  
       'nn dsl je veut pas',  
       'jpeut boost qlq chose dautre?',  
       'lola jte mange les fesses',  
       'cc mbb',  
       't sur c vrm vrai',  
       'Okk',  
       'vzz',  
       'tu donne des pets?',  
       'heyy',  
       'blablabloublebourg',  
       'tu peut me donner un de mes dp de mon profile?',  
       'stv',  
       'tiens jte donne un pet admin special',  
       'persone la et cest pour te faire un cdx',  
       'tu veut une surprise?',  
       'si tu me scam pas jte donne un pet tu sera choquer prsn la',  
       'ta une offre?',  
       'JV MABO DIRECT',  
       'jte detestais grv au debut mtn jtadoreee',  
  
   },  
   AUTO_CHAT_DELAY = 2,  
   VERIFIED_FRIENDS = {  
       'Agusmareborn',  
       'Kellyvault',  
       'J3llynoah',  
       'Rainbowriley321',  
       'Bobazmalibu',  
       'H3llSANG3LX',  
       'Xcallmeholly',  
       'Niniko_201999',  
   },  
   SHOW_VERIFIED_FRIEND = false,  
}  
  
local mockState = {  
   active = false,  
   trade = nil,  
   isAddingItem = false,  
   partnerActionPending = false,  
   originalFunctions = {},  
   controlPanelOpen = false,  
   tradeCompleting = false,  
   scamWarningShown = true,  
   originalDialogFunction = nil,  
   blockedTradeRequests = {},  
   tradeHistory = {},  
   addedTradeIds = {},  
   pendingTradeRequest = false,  
   canShowTradeRequest = true,  
   tradeRequestBlocked = false,  
}  
  
local petSpawnState = {  
   activeFlags = { F = false, R = false, N = false, M = false },  
   validPetNames = {},  
   validPetNamesClean = {},  
}  
  
-- Define pet rarity tiers (mid tiers and above)  
local highValuePets = {  
   'Shadow Dragon',  
   'Bat Dragon',  
   'Frost Dragon',  
   'Giraffe',  
   'Blazing Lion',  
   'Orchid Butterfly',  
   'Diamond Butterfly',  
   'African Wild Dog',  
   'Owl',  
   'Parrot',  
   'Crow',  
   'Evil Unicorn',  
   'Balloon Unicorn',  
   'Giant Panda',  
   'Hedgehog',  
   'Flamingo',  
   'Turtle',  
   'Kangaroo',  
   'Chocolate Chip Bat Dragon',  
   'Strawberry Shortcake Bat Dragon'  
}  
  
local completePetList = {  
   'Shadow Dragon',  
   'Bat Dragon',  
   'Frost Dragon',  
   'Giraffe',  
   'Owl',  
   'Parrot',  
   'Crow',  
   'Evil Unicorn',  
   'Arctic Reindeer',  
   'Hedgehog',  
   'Dalmatian',  
   'Turtle',  
   'Kangaroo',  
   'Lion',  
   'Elephant',  
   'Rhino',  
   'Chocolate Chip Bat Dragon',  
   'Cow',  
   'Blazing Lion',  
   'African Wild Dog',  
   'Flamingo',  
   'Diamond Butterfly',  
   'Mini Pig',  
   'Caterpillar',  
   'Albino Monkey',  
   'Candyfloss Chick',  
   'Pelican',  
   'Blue Dog',  
   'Pink Cat',  
   'Haetae',  
   'Peppermint Penguin',  
   'Winged Tiger',  
   'Sugar Glider',  
   'Shark Puppy',  
   'Goat',  
   'Sheeeeep',  
   'Lion Cub',  
   'Nessie',  
   'Flamingo',  
   'Frostbite Bear',  
   'Balloon Unicorn',  
   'Honey Badger',  
   'Hot Doggo',  
   'Crocodile',  
   'Hare',  
   'Ram',  
   'Yeti',  
   'Meerkat',  
   'Jellyfish',  
   'Happy Clown',  
   'Orchid Butterfly',  
   'Many Mackerel',  
   'Strawberry Shortcake Bat Dragon',  
   'Zombie Buffalo',  
   'Fairy Bat Dragon',  
}  
  
-- Function to check if a pet is Balloon Unicorn or higher rarity  
local function isPetAboveBalloonUnicorn(petName)  
   for _, highValuePet in ipairs(highValuePets) do  
       if petName == highValuePet then  
           return true  
       end  
   end  
   return false  
end  
  
-- Function to get a random pet that's Balloon Unicorn or higher  
local function getRandomHighValuePet()  
   return highValuePets[math.random(1, #highValuePets)]  
end  
  
local function loadPetNames()  
   for category_name, category_table in pairs(InventoryDB) do  
       if category_name == 'pets' then  
           for id, item in pairs(category_table) do  
               petSpawnState.validPetNames[#petSpawnState.validPetNames + 1] =  
                   item.name  
               petSpawnState.validPetNamesClean[#petSpawnState.validPetNamesClean + 1] =  
                   item.name:lower():gsub('%s+', '')  
           end  
           break  
       end  
   end  
end  
loadPetNames()  
  
local function checkTradeLicense(player)  
   if not player then  
       return false  
   end  
  
   local success, hasLicense = pcall(function()  
       if TradeApp and TradeApp._check_if_player_has_trade_license then  
           return TradeApp:_check_if_player_has_trade_license(player)  
       end  
  
       local RouterClient = load('RouterClient')  
       if RouterClient then  
           local result = RouterClient.get('TradeAPI/GetTradeLicenseStatus')  
               :InvokeServer(player.UserId)  
           return result and result.has_license == true  
       end  
  
       return true  
   end)  
  
   return success and hasLicense or true  
end  
  
local function isVerifiedFriend(username)  
   for _, friendName in ipairs(CONFIG.VERIFIED_FRIENDS) do  
       if friendName:lower() == username:lower() then  
           return true  
       end  
   end  
   return false  
end  
  
local function storeOriginalFunctions()  
   local funcs = {  
       '_get_local_trade_state',  
       '_overwrite_local_trade_state',  
       '_change_local_trade_state',  
       '_get_my_offer',  
       '_get_partner_offer',  
       '_get_my_player',  
       '_get_partner',  
       '_get_current_trade_stage',  
       '_on_accept_pressed',  
       '_on_confirm_pressed',  
       '_on_unaccept_pressed',  
       '_decline_trade',  
       '_add_item_to_my_offer',  
       '_remove_item_from_my_offer',  
       '_lock_trade_for_appropriate_time',  
       '_get_lock_time',  
       'refresh_all',  
       '_evaluate_trade_fairness',  
       '_show_scam_victim_warning',  
       '_show_scam_perpetrator_warning',  
   }  
  
   for _, funcName in ipairs(funcs) do  
       if TradeApp[funcName] then  
           mockState.originalFunctions[funcName] = TradeApp[funcName]  
       end  
   end  
end  
  
storeOriginalFunctions()  
  
local function getFakePlayer(userId, name)  
   local fakePlayer = {  
       Name = name,  
       UserId = userId,  
       DisplayName = name,  
       GetHumanoid = function()  
           return nil  
       end,  
       Character = Instance.new('Model'),  
       Parent = Players,  
   }  
  
   fakePlayerIds[userId] = true  
  
   return fakePlayer  
end  
  
local function showTradeRequest(fakePlayer)  
   if not mockState.canShowTradeRequest or mockState.tradeRequestBlocked then  
       return  
   end  
  
   mockState.canShowTradeRequest = false  
  
   local tradeRequest = TradeApp:request_trade(fakePlayer)  
  
   if tradeRequest then  
       mockState.pendingTradeRequest = true  
       task.wait(CONFIG.TRADE_REQUEST_DELAY)  
       mockState.pendingTradeRequest = false  
       mockState.canShowTradeRequest = true  
   end  
end  
  
local function startMockTrade()  
   local fakePartner = getFakePlayer(CONFIG.PARTNER_USER_ID, CONFIG.PARTNER_NAME)  
  
   if CONFIG.SHOW_TRADE_REQUEST then  
       showTradeRequest(fakePartner)  
   else  
       TradeApp:accept_trade_request(fakePartner)  
   end  
  
   mockState.trade = {  
       trade_id = HttpService:GenerateGUID(false),  
       sender = LocalPlayer,  
       recipient = fakePartner,  
       sender_offer = { items = {} },  
       recipient_offer = { items = {} },  
       sender_negotiation_locked = false,  
       recipient_negotiation_locked = false,  
       sender_confirmation_locked = false,  
       recipient_confirmation_locked = false,  
       sender_accept_time = 0,  
       recipient_accept_time = 0,  
       sender_confirm_time = 0,  
       recipient_confirm_time = 0,  
       stage = 'negotiation',  
   }  
  
   TradeApp._overwrite_local_trade_state(TradeApp, mockState.trade)  
end  
  
local function addPetToPartnerOffer(petName, properties)  
   local petId = FindPetId(petName)  
   if not petId then  
       return false, 'Pet not found'  
   end  
  
   local item = CreateInventoryItem(petId, 'pets', properties)  
   if item then  
       mockState.trade.recipient_offer.items[#mockState.trade.recipient_offer.items + 1] = item  
       TradeApp._change_local_trade_state(TradeApp, { recipient_offer = mockState.trade.recipient_offer })  
       return true, 'Pet added'  
   end  
  
   return false, 'Failed to add pet'  
end  
  
local function removeLatestPetFromPartnerOffer()  
   if #mockState.trade.recipient_offer.items > 0 then  
       table.remove(mockState.trade.recipient_offer.items)  
       TradeApp._change_local_trade_state(TradeApp, { recipient_offer = mockState.trade.recipient_offer })  
       return true, 'Pet removed'  
   end  
  
   return false, 'No pets to remove'  
end  
  
local function generateRandomPetProperties()  
   return {  
       mega_neon = math.random() > 0.5,  
       neon = math.random() > 0.5,  
       flyable = math.random() > 0.5,  
       rideable = math.random() > 0.5,  
   }  
end  
  
-- === INTEGRATED ADOPT ME SPAWNER!.txt ===  
local HighTierPets = {  
    "Shadow Dragon", "Bat Dragon", "Frost Dragon", "Giraffe", "Owl", "Parrot", "Crow",  
    "Evil Unicorn", "Arctic Reindeer", "Hedgehog", "Dalmatian", "Turtle", "Kangaroo",  
    "Lion", "Elephant", "Blazing Lion", "African Wild Dog", "Flamingo", "Diamond Butterfly",  
    "Mini Pig", "Caterpillar", "Albino Monkey", "Candyfloss Chick", "Pelican", "Blue Dog",  
    "Pink Cat", "Haetae", "Peppermint Penguin", "Winged Tiger", "Sugar Glider",  
    "Shark Puppy", "Goat", "Sheeeeep", "Lion Cub", "Nessie", "Frostbite Bear",  
    "Balloon Unicorn", "Honey Badger", "Hot Doggo", "Crocodile", "Hare", "Ram", "Yeti",  
    "Meerkat", "Jellyfish", "Happy Clown", "Orchid Butterfly", "Many Mackerel",  
    "Strawberry Shortcake Bat Dragon", "Zombie Buffalo", "Fairy Bat Dragon",  
    "Chocolate Chip Bat Dragon", "Cow", "Dragonfruit Fox", "Monkey King", "Cryptid",  
    "Undead Jousting Horse", "Mermicorn", "Frost Unicorn", "Irish Water Spaniel",  
    "Jekyll Hydra", "Papa Moose", "Strawberry Penguin", "Bush Elephant", "Cupid Dragon",  
    "Black-Chested Pheasant", "Alpaca", "Field Mouse", "Pineapple Owl", "Owlbear",  
    "Tio De Nadal", "Pig", "Royal Mistletroll", "Pirate Ghost Capuchin Monkey",  
    "Moose Calf", "Vampire Dragon", "Shrew", "Mechapup", "Bald Eagle",  
    "Ring-Tailed Lemur", "Tortuga De La Isla", "Werewolf", "Puffin", "Fallow Deer",  
    "Caelum Cervi", "Diamond Amazon", "Sea Slug", "Sugar Axolotl", "Purple Butterfly",  
    "Grim Dragon", "Brown Bear", "Polar Bear", "Sakura Spirit", "Platypus", "Groundhog",  
    "Lava Dragon", "Glacier Moth", "Emperor Gorilla", "2D Kitty", "Hyena",  
    "Arctic Dusk Dragon", "Alley Cat", "Siamese Cat", "Phantom Dragon",  
    "Christmas Pudding Pup", "Glacier Kitsune", "Giant Gold Scarab", "Diamond Albatross"  
}  
  
local SpawnedPets = {}  
local PetModelCache = {}  
local EquippedPet = nil  
local CurrentRideId = nil  
local RideAnimationTrack = nil  
local PetAilmentsCache = {}  
local SpawnedItems = {}  
  
local function GenerateUniquePetName()  
    local prefixes = {"‚òÖ", "‚òÜ", "‚ô°", "‚òÅÔ∏è", "‚ú®", "üçì", "üå∏", "üçØ", "‚òï", "üåô", "üåà", "‚ùÑÔ∏è", "ü´ß", "üç¨", "üç™", "ü•õ"}  
    local names = {"Shadow", "Blaze", "Frost", "Thunder", "Moon", "Star", "Sky", "Ocean", "River", "Storm",   
                   "Ember", "Ash", "Dusk", "Dawn", "Night", "Day", "Sun", "Wind", "Rain", "Snow", "Ice", "Fire",  
                   "Nova", "Cosmo", "Galaxy", "Orbit", "Comet", "Meteor", "Aurora", "Nebula", "Crystal", "Gem",  
                   "Ruby", "Sapphire", "Emerald", "Diamond", "Gold", "Silver", "Mystic", "Magic", "Enchant"}  
      
    local usePrefix = math.random(1, 3) == 1  
    local name = names[math.random(1, #names)]  
      
    if usePrefix then  
        return prefixes[math.random(1, #prefixes)] .. name  
    else  
        return name .. " " .. prefixes[math.random(1, #prefixes)]  
    end  
end  
  
local NewnessGroups = {  
    mega_neon_flyable_rideable = 990000,  
    mega_neon_flyable = 980000,  
    mega_neon_rideable = 970000,  
    mega_neon = 960000,  
    neon_flyable_rideable = 950000,  
    neon_flyable = 940000,  
    neon_rideable = 930000,  
    neon = 920000,  
    flyable_rideable = 910000,  
    flyable = 900000,  
    rideable = 890000,  
    regular = 880000  
}  
  
local function GetPropertyGroup(properties)  
    local isMega = properties.mega_neon or false  
    local isNeon = properties.neon or false  
    local canFly = properties.flyable or false  
    local canRide = properties.rideable or false  
  
    if isMega then  
        if canFly and canRide then return "mega_neon_flyable_rideable"  
        elseif canFly then return "mega_neon_flyable"  
        elseif canRide then return "mega_neon_rideable"  
        else return "mega_neon" end  
    elseif isNeon then  
        if canFly and canRide then return "neon_flyable_rideable"  
        elseif canFly then return "neon_flyable"  
        elseif canRide then return "neon_rideable"  
        else return "neon" end  
    else  
        if canFly and canRide then return "flyable_rideable"  
        elseif canFly then return "flyable"  
        elseif canRide then return "rideable"  
        else return "regular" end  
    end  
end  
  
local function UpdateClientData(dataPath, modifier)  
    local identity = get_thread_identity and get_thread_identity() or 8  
    set_thread_identity(2)  
    local currentData = ClientData.get(dataPath)  
    local clonedData = table.clone(currentData)  
    local result = modifier(clonedData)  
    ClientData.predict(dataPath, result)  
    set_thread_identity(identity)  
    return result  
end  
  
local function GenerateUniqueID()  
    return HttpService:GenerateGUID(false)  
end  
  
local function FindInTable(array, checker)  
    for index, value in pairs(array) do  
        if checker(value, index) then  
            return index  
        end  
    end  
    return nil  
end  
  
local originalGetServer = ClientData.get_server  
  
function ClientData.get_server(player, key, ...)  
    local data = originalGetServer(player, key, ...)  
  
    if key == "ailments_manager" and player == LocalPlayer then  
        local ailmentsData = {}  
        if data then  
            for k, v in pairs(data) do  
                ailmentsData[k] = type(v) == "table" and table.clone(v) or v  
            end  
        end  
          
        ailmentsData.ailments = ailmentsData.ailments or {}  
          
        for petId, _ in pairs(SpawnedPets) do  
            if PetAilmentsCache[petId] then  
                ailmentsData.ailments[petId] = PetAilmentsCache[petId]  
            else  
                local ailmentTypes = {}  
                for kind, _ in pairs(AilmentsDB) do  
                    if kind ~= "at_work" and kind ~= "mystery" and kind ~= "walking" then  
                        table.insert(ailmentTypes, kind)  
                    end  
                end  
  
                local ailmentCount = math.random(2, 4)  
                local petAilments = {}  
                local usedTypes = {}  
  
                for i = 1, math.min(ailmentCount, #ailmentTypes) do  
                    local ailmentKind  
                    repeat  
                        ailmentKind = ailmentTypes[math.random(1, #ailmentTypes)]  
                    until not usedTypes[ailmentKind]  
                    usedTypes[ailmentKind] = true  
  
                    local ailmentId = GenerateUniqueID()  
                    petAilments[ailmentId] = {  
                        components = {},  
                        created_timestamp = os.time(),  
                        kind = ailmentKind,  
                        progress = 0,  
                        rate = 0,  
                        rate_timestamp = os.time(),  
                        sort_order = i * 100  
                    }  
                end  
  
                PetAilmentsCache[petId] = petAilments  
                ailmentsData.ailments[petId] = petAilments  
            end  
        end  
  
        return ailmentsData  
    end  
  
    return data  
end  
  
local function FetchPetModel(petKind)  
    if PetModelCache[petKind] then  
        return PetModelCache[petKind]:Clone()  
    end  
  
    local model = getPetModel(petKind)  
    if model then  
        PetModelCache[petKind] = model  
        return model:Clone()  
    end  
    return nil  
end  
  
local function FindPetId(petName)  
    for _, pet in pairs(InventoryDB.pets) do  
        if pet.name:lower() == petName:lower() then  
            return pet.id  
        end  
    end  
    return nil  
end  
  
local function CreateInventoryItem(id, category, properties)  
    local item = InventoryDB[category][id]  
    if not item then return nil end  
      
    local uniqueId = GenerateUniqueID()  
      
    local newItem = {  
        unique = uniqueId,  
        category = category,  
        id = id,  
        kind = item.kind,  
        newness_order = NewnessGroups[GetPropertyGroup(properties)],  
        properties = properties  
    }  
      
    UpdateClientData('inventory', function(inventory)  
        inventory[category][uniqueId] = newItem  
        return inventory  
    end)  
      
    SpawnedPets[uniqueId] = true  
    return newItem  
end  
  
local function DeleteAllSpawnedPets()  
    local count = 0  
    UpdateClientData('inventory', function(inventory)  
        for uniqueId, _ in pairs(SpawnedPets) do  
            inventory.pets[uniqueId] = nil  
            count = count + 1  
        end  
        return inventory  
    end)  
    SpawnedPets = {}  
    return count  
end  
  
-- === INTEGRATED AUTO BLOCK ===  
-- ULTRA-FAST Player Blocker Script - Instant Block  
  
-- Configuration  
local PLAYER_BLOCKER_CONFIG = {  
    BLOCK_KEYWORDS = {  
        "free", "hack", "cheat", "exploit", "SCAMMER", "scammed", "toook"  
    },  
    GUI_POSITION = UDim2.new(0, 10, 0, 50),  
    AUTO_BLOCK_ENABLED = true  
}  
  
-- State  
local playerBlockerState = {  
    blockedPlayers = {}  
}  
  
-- Use your existing BlockPlayer function  
function BlockPlayer(Selected)  
    pcall(function()  
        setthreadidentity(8)  
    end)  
    game:GetService('StarterGui'):SetCore('PromptBlockPlayer', Selected)  
    repeat  
        game:GetService('RunService').Heartbeat:Wait()  
    until game:GetService('CoreGui'):FindFirstChild('BlockingModalScreen')  
    game:GetService('CoreGui').BlockingModalScreen.BlockingModalContainer.BlockingModalContainerWrapper.BlockingModal.BackgroundTransparency = 1  
    game:GetService('CoreGui').BlockingModalScreen.BlockingModalContainer.BlockingModalContainerWrapper.BackgroundTransparency = 1  
    game:GetService('CoreGui').BlockingModalScreen.BlockingModalContainer.BackgroundTransparency = 1  
    game:GetService('CoreGui').BlockingModalScreen.BlockingModalContainer.BlockingModalContainerWrapper.BlockingModal.AlertModal.Position = UDim2.new(0.00800000038, -110, 0.5, 0)  
    local interact = function(path)  
        game:GetService('GuiService').SelectedObject = path  
        task.wait()  
        if game:GetService('GuiService').SelectedObject == path then  
            game:GetService('VirtualInputManager'):SendKeyEvent(true, Enum.KeyCode.Return, false, game)  
            game:GetService('VirtualInputManager'):SendKeyEvent(false, Enum.KeyCode.Return, false, game)  
            task.wait()  
        end  
        game:GetService('GuiService').SelectedObject = nil  
    end  
    interact(game:GetService('CoreGui').BlockingModalScreen.BlockingModalContainer.BlockingModalContainerWrapper.BlockingModal.AlertModal.AlertContents.Footer.Buttons['3'])  
    pcall(function()  
        setthreadidentity(2)  
    end)  
end  
  
-- Simple detection that checks if letters can form keywords  
local function canSpellKeyword(text, keyword)  
    local lowerText = string.lower(text)  
    local lowerKeyword = string.lower(keyword)  
      
    -- Count letters in the text  
    local textCount = {}  
    for i = 1, #lowerText do  
        local char = string.sub(lowerText, i, i)  
        if string.match(char, "%a") then -- Only count letters  
            textCount[char] = (textCount[char] or 0) + 1  
        end  
    end  
      
    -- Count letters needed for keyword  
    local keywordCount = {}  
    for i = 1, #lowerKeyword do  
        local char = string.sub(lowerKeyword, i, i)  
        keywordCount[char] = (keywordCount[char] or 0) + 1  
    end  
      
    -- Check if text has enough of each letter to spell the keyword  
    for char, needed in pairs(keywordCount) do  
        if (textCount[char] or 0) < needed then  
            return false  
        end  
    end  
      
    return true  
end  
  
local function containsKeyword(message, keywords)  
    for _, keyword in ipairs(keywords) do  
        if canSpellKeyword(message, keyword) then  
            return true, keyword  
        end  
    end  
    return false, nil  
end  
  
-- ULTRA-FAST BLOCK FUNCTION - No delays, instant execution  
local function instantBlockPlayer(player, keyword, message)  
    if not player then  
        return false  
    end  
      
    -- INSTANT BLOCK - No waiting, no delays  
    pcall(function()  
        BlockPlayer(player)  
    end)  
      
    -- Update stats immediately  
    blockedCount = blockedCount + 1  
    lastBlockedPlayer = player.Name  
    updateStats()  
      
    -- Instant console notification  
    print("‚ö° INSTANT BLOCK: " .. player.Name .. " for: " .. keyword)  
    print("üìù Original message: " .. message)  
      
    return true  
end  
  
-- ULTRA-FAST Chat Detection - Minimal processing  
local function onPlayerChatted(player, message)  
    -- Skip if player is yourself or blocking is off  
    if player == Players.LocalPlayer or ToggleButton.Text:find("OFF") then  
        return  
    end  
      
    -- Ultra-fast keyword check  
    local hasKeyword, foundKeyword = containsKeyword(message, PLAYER_BLOCKER_CONFIG.BLOCK_KEYWORDS)  
    if hasKeyword then  
        -- INSTANT BLOCK - No delays, no waiting  
        instantBlockPlayer(player, foundKeyword, message)  
    end  
end  
  
-- ULTRA-FAST Chat Monitoring - No unnecessary processing  
local function monitorChat()  
    -- Monitor existing players - ULTRA FAST  
    for i, player in pairs(Players:GetPlayers()) do  
        player.Chatted:Connect(function(msg)  
            onPlayerChatted(player, msg)  
        end)  
    end  
      
    -- Monitor new players - ULTRA FAST  
    Players.PlayerAdded:Connect(function(player)  
        player.Chatted:Connect(function(msg)  
            onPlayerChatted(player, msg)  
        end)  
    end  
end  
  
-- Initialize - FAST STARTUP  
monitorChat()  
updateStats()  
  
-- === INTEGRATED LEAKED BY @bb_tricks ON DC.txt ===  
local petNames = {  
   "Bat Dragon", "Shadow Dragon", "Evil Unicorn", "Crow", "Giraffe",   
   "Parrot", "Diamond Butterfly", "Owl", "Frost Dragon", "Giant Panda",   
   "Balloon Unicorn", "Monkey King", "Arctic Reindeer", "Hedgehog", "Flamingo",  
   "Turtle", "Kangaroo"  
}  
  
local toyNames = {  
   "Rainbow Rattle", "Candy Cannon", "Witches Broomstick", "Tombstone Ghostify"  
}  
  
local spawnerSystemLoaded = false  
local spawnerPets = {}  
local equippedPet = nil  
local mountedPet = nil  
local currentMountTrack = nil  
  
_G.createPet = nil  
_G.equipPet = nil  
_G.unequipPet = nil  
  
local originalDialogMessage = "An Adopt Me admin gave you: "  
local currentDialogMessage = originalDialogMessage  
  
local selectedToy = ""  
  
local function loadSpawnerSystem()  
   if spawnerSystemLoaded then return end  
     
   local success, err = pcall(function()  
       local oldIdentity = set_thread_identity(2)  
       local Fsys = require(game.ReplicatedStorage:WaitForChild('Fsys'))  
       local load = Fsys.load  
         
       local clientData = load('ClientData')  
       local items = load('KindDB')  
       local router = load('RouterClient')  
       local downloader = load('DownloadClient')  
       local animationManager = load('AnimationManager')  
       local petRigs = load('new:PetRigs')  
       local UIManager = load('UIManager')  
         
       set_thread_identity(oldIdentity)  
  
       local petModels = {}  
  
       local function updateData(key, action)  
           local oldId = set_thread_identity(2)  
           local data = clientData.get(key)  
           local clonedData = table.clone(data)  
           clientData.predict(key, action(clonedData))  
           set_thread_identity(oldId)  
       end  
  
       local function getUniqueId()  
           return HttpService:GenerateGUID(false)  
       end  
  
       local function getPetModel(kind)  
           if petModels[kind] then  
               return petModels[kind]:Clone()  
           end  
  
           local promise = downloader.promise_download_copy('Pets', kind)  
           if promise then  
               local streamed = promise:expect()  
               petModels[kind] = streamed  
               return streamed:Clone()  
           end  
           return nil  
       end  
  
       _G.createPet = function(id, properties)  
           local uniqueId = getUniqueId()  
           local item = items[id]  
           if not item then  
               return nil  
           end  
  
           local oldId = set_thread_identity(2)  
           local new_pet = {  
               unique = uniqueId,  
               category = 'pets',  
               id = id,  
               kind = item.kind,  
               newness_order = math.random(1, 900000),  
               properties = properties or {},  
           }  
           local inventory = clientData.get('inventory')  
           inventory.pets[uniqueId] = new_pet  
           set_thread_identity(oldId)  
             
           spawnerPets[uniqueId] = {  
               data = new_pet,  
               model = nil,  
           }  
             
           return new_pet  
       end  
  
       _G.createToy = function(toyName, properties)  
           local uniqueId = getUniqueId()  
             
           local oldId = set_thread_identity(2)  
           local InventoryDB = load('InventoryDB')  
             
           local toyId  
           for id, toy in pairs(InventoryDB.toys) do  
               if toy.name:lower() == toyName:lower() then  
                   toyId = id  
                   break  
               end  
           end  
             
           if not toyId then  
               set_thread_identity(oldId)  
               return nil  
           end  
             
           local item = items[toyId]  
           if not item then  
               set_thread_identity(oldId)  
               return nil  
           end  
  
           local new_toy = {  
               unique = uniqueId,  
               category = 'toys',  
               id = toyId,  
               kind = item.kind,  
               newness_order = math.random(1, 900000),  
               properties = properties or {},  
           }  
             
           local inventory = clientData.get('inventory')  
           inventory.toys[uniqueId] = new_toy  
           set_thread_identity(oldId)  
             
           return new_toy  
       end  
  
       local function neonify(model, entry)  
           local petModel = model:FindFirstChild('PetModel')  
           if not petModel then  
               return  
           end  
  
           local oldId = set_thread_identity(2)  
           local petRig = petRigs.get(petModel)  
           set_thread_identity(oldId)  
             
           if petRig and petRig.get_geo_part then  
               for neonPart, configuration in pairs(entry.neon_parts) do  
                   local trueNeonPart = petRig.get_geo_part(petModel, neonPart)  
                   if trueNeonPart then  
                       trueNeonPart.Material = configuration.Material  
                       trueNeonPart.Color = configuration.Color  
                   end  
               end  
           end  
       end  
  
       local function addPetWrapper(wrapper)  
           updateData('pet_char_wrappers', function(petWrappers)  
               wrapper.unique = #petWrappers + 1  
               wrapper.index = #petWrappers + 1  
               petWrappers[#petWrappers + 1] = wrapper  
               return petWrappers  
           end)  
       end  
  
       local function addPetState(state)  
           updateData('pet_state_managers', function(petStates)  
               petStates[#petStates + 1] = state  
               return petStates  
           end)  
       end  
  
       local function findIndex(array, finder)  
           for index, value in pairs(array) do  
               local isIt = finder(value, index)  
               if isIt then  
                   return index  
               end  
           end  
           return nil  
       end  
  
       local function removePetWrapper(uniqueId)  
           updateData('pet_char_wrappers', function(petWrappers)  
               local index = findIndex(petWrappers, function(wrapper)  
                   return wrapper.pet_unique == uniqueId  
               end)  
  
               if not index then  
                   return petWrappers  
               end  
  
               table.remove(petWrappers, index)  
  
               for wrapperIndex, wrapper in pairs(petWrappers) do  
                   wrapper.unique = wrapperIndex  
                   wrapper.index = wrapperIndex  
               end  
  
               return petWrappers  
           end)  
       end  
  
       local function removePetState(uniqueId)  
           local pet = spawnerPets[uniqueId]  
           if not pet or not pet.model then  
               return  
           end  
  
           updateData('pet_state_managers', function(petStates)  
               local index = findIndex(petStates, function(state)  
                   return state.char == pet.model  
               end)  
  
               if not index then  
                   return petStates  
               end  
  
               table.remove(petStates, index)  
               return petStates  
           end)  
       end  
  
       _G.unequipPet = function(item)  
           local pet = spawnerPets[item.unique]  
           if not pet then   
               return   
           end  
  
           removePetWrapper(item.unique)  
           removePetState(item.unique)  
  
           if pet.model then  
               pet.model:Destroy()  
               pet.model = nil  
           end  
  
           equippedPet = nil  
       end  
  
       _G.equipPet = function(item)  
           if equippedPet then  
               _G.unequipPet(equippedPet)  
           end  
  
           local petModel = getPetModel(item.kind)  
           if not petModel then  
               return  
           end  
             
           petModel.Parent = workspace  
           spawnerPets[item.unique].model = petModel  
  
           if item.properties.neon or item.properties.mega_neon then  
               neonify(petModel, items[item.kind])  
           end  
  
           equippedPet = item  
             
           local wrapper = {  
               char = petModel,  
               mega_neon = item.properties.mega_neon,  
               neon = item.properties.neon,  
               player = LocalPlayer,  
               entity_controller = LocalPlayer,  
               controller = LocalPlayer,  
               rp_name = item.properties.rp_name or '',  
               pet_trick_level = item.properties.pet_trick_level,  
               pet_unique = item.unique,  
               pet_id = item.id,  
               location = {  
                   full_destination_id = 'housing',  
                   destination_id = 'housing',  
                   house_owner = LocalPlayer,  
               },  
               pet_progression = {  
                   age = math.random(1, 900000),  
                   percentage = math.random(0.01, 0.99),  
               },  
               are_colors_sealed = false,  
               is_pet = true,  
           }  
             
           addPetWrapper(wrapper)  
  
           addPetState({  
               char = petModel,  
               player = LocalPlayer,  
               store_key = 'pet_state_managers',  
               is_sitting = false,  
               chars_connected_to_me = {},  
               states = {},  
           })  
       end  
  
       local InventoryDB = load('InventoryDB')  
       _G.GetPetByName = function(name)  
           local oldId = set_thread_identity(2)  
           for i, v in pairs(InventoryDB.pets) do  
               if v.name:lower() == name:lower() then  
                   set_thread_identity(oldId)  
                   return v.id  
               end  
           end  
           set_thread_identity(oldId)  
           return false  
       end  
  
       _G.GetToyByName = function(name)  
           local oldId = set_thread_identity(2)  
           for i, v in pairs(InventoryDB.toys) do  
               if v.name:lower() == name:lower() then  
                   set_thread_identity(oldId)  
                   return v.id  
               end  
           end  
           set_thread_identity(oldId)  
           return false  
       end  
  
       local oldGet = router.get  
  
       local function createRemoteFunctionMock(callback)  
           return {  
               InvokeServer = function(_, ...)  
                   return callback(...)  
               end,  
           }  
       end  
  
       local function createRemoteEventMock(callback)  
           return {  
               FireServer = function(_, ...)  
                   return callback(...)  
               end,  
           }  
       end  
  
       local oldGet = router.get  
  
       router.get = function(self, path)  
           if path == 'PetAPI/GetPetRigs' then  
               return createRemoteFunctionMock(function(petKind)  
                   return petRigs.get(petKind)  
               end)  
           elseif path == 'PetAPI/GetPetModel' then  
               return createRemoteFunctionMock(function(petKind)  
                   return getPetModel(petKind)  
               end)  
           elseif path == 'PetAPI/EquipPet' then  
               return createRemoteEventMock(function(uniqueId)  
                   _G.equipPet(uniqueId)  
               end)  
           elseif path == 'PetAPI/UnequipPet' then  
               return createRemoteEventMock(function(uniqueId)  
                   _G.unequipPet(uniqueId)  
               end)  
           end  
           return oldGet(self, path)  
       end  
  
       spawnerSystemLoaded = true  
   end)  
end  
  
local function showPetDialog(selectedPet, activeFlags)  
   if selectedPet == "" then  
       return  
   end  
     
   loadSpawnerSystem()  
   wait(0.5)  
     
   local oldIdentity = set_thread_identity(2)  
     
   local success, result = pcall(function()  
       local Fsys = require(ReplicatedStorage:WaitForChild('Fsys'))  
       local load = Fsys.load  
         
       local petId  
       if _G.GetPetByName then  
           petId = _G.GetPetByName(selectedPet)  
       else  
           local InventoryDB = load('InventoryDB')  
           for id, pet in pairs(InventoryDB.pets) do  
               if pet.name:lower() == selectedPet:lower() then  
                   petId = id  
                   break  
               end  
           end  
       end  
         
       if not petId then  
           return false  
       end  
         
       local items = load('KindDB')  
       local petItemData = items[petId]  
         
       if not petItemData then  
           return false  
       end  
         
       local petProperties = {  
           pet_trick_level = math.random(1, 5),  
           neon = activeFlags["N"],  
           mega_neon = activeFlags["M"],  
           rideable = activeFlags["R"],  
           flyable = activeFlags["F"],  
           age = math.random(1, 900000),  
           ailments_completed = 0,  
           rp_name = ""  
       }  
         
       local UIManager = load('UIManager')  
       local DialogApp = UIManager.apps.DialogApp  
         
       if DialogApp and DialogApp.dialog then  
           local response = DialogApp:dialog({  
               dialog_type = "ItemPreviewDialog",  
               text = currentDialogMessage .. selectedPet,  
               item = {  
                   id = petId,  
                   name = selectedPet,  
                   category = "pets",  
                   kind = petItemData.kind,  
                   properties = petProperties  
               },  
               button = "Okay!",  
               yields = true  
           })  
             
           if response == "Okay!" then  
               _G.createPet(petId, petProperties)  
               return true  
           end  
       end  
         
       return false  
   end)  
     
   set_thread_identity(oldIdentity)  
     
   if not success or not result then  
       local messageGui = Instance.new("ScreenGui")  
       messageGui.Name = "PetSuccessMessage"  
       messageGui.ResetOnSpawn = false  
       messageGui.Parent = LocalPlayer:WaitForChild("PlayerGui")  
         
       local frame = Instance.new("Frame")  
       frame.Size = UDim2.new(0, 200, 0, 100)  
       frame.Position = UDim2.new(0.5, -100, 0.5, -50)  
       frame.BackgroundColor3 = Color3.fromRGB(40, 40, 50)  
       frame.BackgroundTransparency = 0.1  
       frame.Parent = messageGui  
         
       Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 8)  
         
       local label = Instance.new("TextLabel")  
       label.Size = UDim2.new(0.9, 0, 0.6, 0)  
       label.Position = UDim2.new(0.05, 0, 0.1, 0)  
       label.Text = "Pet Spawned: " .. selectedPet  
       label.Font = Enum.Font.FredokaOne  
       label.TextSize = 14  
       label.TextColor3 = Color3.fromRGB(255, 255, 255)  
       label.BackgroundTransparency = 1  
       label.Parent = frame  
         
       local okButton = Instance.new("TextButton")  
       okButton.Size = UDim2.new(0.6, 0, 0.25, 0)  
       okButton.Position = UDim2.new(0.2, 0, 0.65, 0)  
       okButton.Text = "Okay!"  
       okButton.Font = Enum.Font.FredokaOne  
       okButton.TextSize = 12  
       okButton.BackgroundColor3 = Color3.fromRGB(30, 105, 210)  
       okButton.TextColor3 = Color3.fromRGB(255, 255, 255)  
       okButton.AutoButtonColor = true  
       okButton.Parent = frame  
         
       Instance.new("UICorner", okButton).CornerRadius = UDim.new(0, 6)  
         
       okButton.MouseButton1Click:Connect(function()  
           messageGui:Destroy()  
           if _G.createPet then  
               local oldId = set_thread_identity(2)  
               local InventoryDB = require(ReplicatedStorage:WaitForChild('Fsys')).load('InventoryDB')  
               local petId  
               for id, pet in pairs(InventoryDB.pets) do  
                   if pet.name:lower() == selectedPet:lower() then  
                       petId = id  
                       break  
                   end  
               end  
                 
               if petId then  
                   local petProperties = {  
                       pet_trick_level = math.random(1, 5),  
                       neon = activeFlags["N"],  
                       mega_neon = activeFlags["M"],  
                       rideable = activeFlags["R"],  
                       flyable = activeFlags["F"],  
                       age = math.random(1, 900000),  
                       ailments_completed = 0,  
                       rp_name = ""  
                   }  
                   _G.createPet(petId, petProperties)  
               end  
               set_thread_identity(oldId)  
           end  
       end)  
         
       task.delay(5, function()  
           if messageGui then  
               messageGui:Destroy()  
           end  
       end)  
   end  
end  
  
local function showToyDialog(selectedToyText)  
   if selectedToyText == "" then  
       return  
   end  
     
   loadSpawnerSystem()  
   wait(0.5)  
     
   local oldIdentity = set_thread_identity(2)  
     
   local success, result = pcall(function()  
       local Fsys = require(ReplicatedStorage:WaitForChild('Fsys'))  
       local load = Fsys.load  
         
       local toyId  
       if _G.GetToyByName then  
           toyId = _G.GetToyByName(selectedToyText)  
       else  
           local InventoryDB = load('InventoryDB')  
           for id, toy in pairs(InventoryDB.toys) do  
               if toy.name:lower() == selectedToyText:lower() then  
                   toyId = id  
                   break  
               end  
           end  
       end  
         
       if not toyId then  
           return false  
       end  
         
       local items = load('KindDB')  
       local toyItemData = items[toyId]  
         
       if not toyItemData then  
           return false  
       end  
         
       local toyProperties = {  
           durability = 100,  
           last_used = os.time()  
       }  
         
       local UIManager = load('UIManager')  
       local DialogApp = UIManager.apps.DialogApp  
         
       if DialogApp and DialogApp.dialog then  
           local response = DialogApp:dialog({  
               dialog_type = "ItemPreviewDialog",  
               text = currentDialogMessage .. selectedToyText,  
               item = {  
                   id = toyId,  
                   name = selectedToyText,  
                   category = "toys",  
                   kind = toyItemData.kind,  
                   properties = toyProperties  
               },  
               button = "Okay!",  
               yields = true  
           })  
             
           if response == "Okay!" and _G.createToy then  
               _G.createToy(selectedToyText, toyProperties)  
               return true  
           elseif response == "Okay!" and _G.createPet then  
               _G.createPet(toyId, toyProperties)  
               return true  
           end  
       end  
         
       return false  
   end)  
     
   set_thread_identity(oldIdentity)  
     
   if not success or not result then  
       local messageGui = Instance.new("ScreenGui")  
       messageGui.Name = "ToySuccessMessage"  
       messageGui.ResetOnSpawn = false  
       messageGui.Parent = LocalPlayer:WaitForChild("PlayerGui")  
         
       local frame = Instance.new("Frame")  
       frame.Size = UDim2.new(0, 200, 0, 100)  
       frame.Position = UDim2.new(0.5, -100, 0.5, -50)  
       frame.BackgroundColor3 = Color3.fromRGB(40, 40, 50)  
       frame.BackgroundTransparency = 0.1  
       frame.Parent = messageGui  
         
       Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 8)  
         
       local label = Instance.new("TextLabel")  
       label.Size = UDim2.new(0.9, 0, 0.6, 0)  
       label.Position = UDim2.new(0.05, 0, 0.1, 0)  
       label.Text = "Toy Spawned: " .. selectedToyText  
       label.Font = Enum.Font.FredokaOne  
       label.TextSize = 14  
       label.TextColor3 = Color3.fromRGB(255, 255, 255)  
       label.BackgroundTransparency = 1  
       label.Parent = frame  
         
       local okButton = Instance.new("TextButton")  
       okButton.Size = UDim2.new(0.6, 0, 0.25, 0)  
       okButton.Position = UDim2.new(0.2, 0, 0.65, 0)  
       okButton.Text = "Okay!"  
       okButton.Font = Enum.Font.FredokaOne  
       okButton.TextSize = 12  
       okButton.BackgroundColor3 = Color3.fromRGB(210, 105, 30)  
       okButton.TextColor3 = Color3.fromRGB(255, 255, 255)  
       okButton.AutoButtonColor = true  
       okButton.Parent = frame  
         
       Instance.new("UICorner", okButton).CornerRadius = UDim.new(0, 6)  
         
       okButton.MouseButton1Click:Connect(function()  
           messageGui:Destroy()  
           if _G.createToy then  
               local oldId = set_thread_identity(2)  
               local toyProperties = {  
                   durability = 100,  
                   last_used = os.time()  
               }  
               _G.createToy(selectedToyText, toyProperties)  
               set_thread_identity(oldId)  
           elseif _G.createPet then  
               local oldId = set_thread_identity(2)  
               local InventoryDB = require(ReplicatedStorage:WaitForChild('Fsys')).load('InventoryDB')  
               local toyId  
               for id, toy in pairs(InventoryDB.toys) do  
                   if toy.name:lower() == selectedToyText:lower() then  
                       toyId = id  
                       break  
                   end  
               end  
                 
               if toyId then  
                   local toyProperties = {  
                       durability = 100,  
                       last_used = os.time()  
                   }  
                   _G.createPet(toyId, toyProperties)  
               end  
               set_thread_identity(oldId)  
           end  
       end)  
         
       task.delay(5, function()  
           if messageGui then  
               messageGui:Destroy()  
           end  
       end)  
   end  
end  
  
-- === GUI SETUP (BASE FROM 87NYGzDB with additions) ===  
local LocalPlayer = Players.LocalPlayer  
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")  
  
local screenGui = Instance.new("ScreenGui")  
screenGui.Name = "dc_plastica1Gui"  
screenGui.ResetOnSpawn = false  
screenGui.Parent = PlayerGui  
  
local mainFrame = Instance.new("Frame")  
mainFrame.Size = UDim2.new(0, 180, 0, 320)  
mainFrame.Position = UDim2.new(0.5, -90, 0.5, -160)  
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)  
mainFrame.Parent = screenGui  
  
local corner = Instance.new("UICorner")  
corner.CornerRadius = UDim.new(0, 8)  
corner.Parent = mainFrame  
  
local stroke = Instance.new("UIStroke")  
stroke.Color = Color3.fromRGB(100, 100, 255)  
stroke.Thickness = 2  
stroke.Parent = mainFrame  
  
local title = Instance.new("TextLabel")  
title.Size = UDim2.new(1, 0, 0, 30)  
title.BackgroundTransparency = 1  
title.Text = "dc : plastica1"  
title.Font = Enum.Font.FredokaOne  
title.TextSize = 14  
title.TextColor3 = Color3.fromRGB(255, 255, 255)  
title.Parent = mainFrame  
  
-- Tabs  
local tabsFrame = Instance.new("Frame")  
tabsFrame.Size = UDim2.new(1, 0, 0, 30)  
tabsFrame.Position = UDim2.new(0, 0, 0, 30)  
tabsFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)  
tabsFrame.Parent = mainFrame  
  
local tabLayout = Instance.new("UIListLayout")  
tabLayout.FillDirection = Enum.FillDirection.Horizontal  
tabLayout.SortOrder = Enum.SortOrder.LayoutOrder  
tabLayout.Parent = tabsFrame  
  
local tabElements = {  
    Control = { button = Instance.new("TextButton"), frame = Instance.new("Frame") },  
    Pets = { button = Instance.new("TextButton"), frame = Instance.new("Frame") },  
    AutoBlock = { button = Instance.new("TextButton"), frame = Instance.new("Frame") },  
    Toys = { button = Instance.new("TextButton"), frame = Instance.new("Frame") },  
    Settings = { button = Instance.new("TextButton"), frame = Instance.new("Frame") },  
}  
  
for tabName, element in pairs(tabElements) do  
    element.button.Size = UDim2.new(0.2, 0, 1, 0)  
    element.button.Text = tabName  
    element.button.Font = Enum.Font.SourceSansSemibold  
    element.button.TextSize = 10  
    element.button.BackgroundTransparency = 1  
    element.button.TextColor3 = Color3.fromRGB(150, 150, 150)  
    element.button.Parent = tabsFrame  
  
    element.frame.Size = UDim2.new(1, 0, 1, -60)  
    element.frame.Position = UDim2.new(0, 0, 0, 60)  
    element.frame.BackgroundTransparency = 1  
    element.frame.Visible = false  
    element.frame.Parent = mainFrame  
end  
  
local function setActiveTab(tabName)  
    for name, element in pairs(tabElements) do  
        element.frame.Visible = (name == tabName)  
        element.button.TextColor3 = (name == tabName) and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(150, 150, 150)  
    end  
end  
  
-- Control Tab (original)  
local controlFrame = tabElements.Control.frame  
  
-- Pets Tab (integrated from ADOPT ME SPAWNER and LEAKED)  
local petsFrame = tabElements.Pets.frame  
  
-- AutoBlock Tab (integrated from auto block)  
local autoBlockFrame = tabElements.AutoBlock.frame  
  
-- Toys Tab (integrated from LEAKED)  
local toysFrame = tabElements.Toys.frame  
  
-- Settings Tab (original)  
local settingsFrame = tabElements.Settings.frame  
  
-- Connect tab buttons  
for tabName, element in pairs(tabElements) do  
    element.button.MouseButton1Click:Connect(function()  
        setActiveTab(tabName)  
    end)  
end  
  
-- Populate Pets Tab with spawning GUI  
-- (Add elements from ADOPT ME SPAWNER and pet dialog button from LEAKED)  
  
-- Populate AutoBlock Tab with auto block GUI  
  
-- Populate Toys Tab with toy selection and dialog button  
  
-- Initialize  
setActiveTab('Control')  
loadSpawnerSystem()  
print('dc : plastica1 loaded successfully!')  
```       local) 
